# linux安装FTDI驱动

---

> 用`journalctl -xb`和`dmesg`查看日志
> 

### ②步骤：

- **（1）接入usb，打开终端，输入`dmesg | grep FTDI`：**
    - **这个是FT2232H，有俩路：**
        
        ![Untitled](linux%E5%AE%89%E8%A3%85FTDI%E9%A9%B1%E5%8A%A8%20db47d714d8bc4849b3160d1e928391b0/Untitled.png)
        
    - **`lsusb`：**
        
        ![Untitled](linux%E5%AE%89%E8%A3%85FTDI%E9%A9%B1%E5%8A%A8%20db47d714d8bc4849b3160d1e928391b0/Untitled%201.png)
        
    - `**ATTRS{idVendor}=="0403", ATTRS{idProduct}=="6010”**`
- **（2）安装minicom测试：**
    - **由于原厂是两个VCM串口，所以可以先进行测试一下；**
    - **`sudo apt install minicom`**
        - **按键`CTRL + A`，再按键`Z`：进入帮助界面**
        - **按键`O`：进入配置minicom**
        
        ![Untitled](linux%E5%AE%89%E8%A3%85FTDI%E9%A9%B1%E5%8A%A8%20db47d714d8bc4849b3160d1e928391b0/Untitled%202.png)
        
        - **保存：**
            - **可以保存为默认设置：选择“`Save setup as dfl`”**
    - **连接BDBUS1（RXD）和BDBUS0（TXD），对应ttyUSB1：**
        - **输入`sudo minicom -D /dev/ttyUSB1`：**
            
            ![Untitled](linux%E5%AE%89%E8%A3%85FTDI%E9%A9%B1%E5%8A%A8%20db47d714d8bc4849b3160d1e928391b0/Untitled%203.png)
            
            - **有回路显示（在minicom界面打字就可以看到接收到的数据）；**
- **（3）安装驱动：**
    - **卸载VCM（这个是没有关系的，我们插上usb后它会重新安装，顺便卸载）**
        - **`sudo rmmod ftdi_sio`**
        - **`sudo rmmod usbserial`**
    - **安装库：**
        - `**sudo apt-get -y install libftdi-dev**`
        - `**sudo apt-get install libftdi1-dev**`
        
        ```bash
        **cd libftd2xx-x86_64-1.4.24
        
        cp release/build/libftd2xx.* /usr/local/lib
        chmod 0755 /usr/local/lib/libftd2xx.so.1.4.27
        ln -s /usr/local/lib/libftd2xx.so.1.4.27 /usr/local/lib/libftd2xx.so
        
        cp ftd2xx.h  /usr/local/include
        cp WinTypes.h  /usr/local/include**
        ```
        
        - **`ldconfig -v`可以看动态链接库加上`grep ftd`就行，记得`sudo reboot`；**